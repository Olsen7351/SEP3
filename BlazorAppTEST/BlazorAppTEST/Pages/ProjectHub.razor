@page "/project-hub/{ProjectIdAsString}"
@using MainWeb.Services
@inject ProjectService ProjectService


<div class="container-fluid">
    <div class="container">
        <h2>Project Hub for Project ID: @ProjectId</h2>

        <!-- Other project details can be displayed here -->

        <div class="card backlog-section">
            @if (HasBacklog)
            {
                <p>Backlog details go here...</p>
                <button class="button" @onclick="AddTask">Add Task</button>
            }
            else
            {
                <button class="button" @onclick="CreateBacklog">Create Backlog</button>
            }
        </div>
    </div>
</div>

@code {

    [Parameter]
    public string ProjectIdAsString { get; set; }
    public int ProjectId { get; private set; }

    bool HasBacklog = false;
     private List<Task> tasks = new List<Task>(); // Assuming Task is a class with a Description property

    protected override void OnParametersSet()
    {
        if (int.TryParse(ProjectIdAsString, out var parsedId))
        {
            ProjectId = parsedId;
        }
        else
        {
    // Handle invalid format or redirect to an error page
        }
    }

    private void CreateBacklog()
    {
        HasBacklog = true;
    }

    private void AddTask()
    {
    
    // Create a new task and add it to the list of tasks
        Task newTask = new Task { Description = "Sample Task Description" }; // Modify as per your Task class structure
        tasks.Add(newTask);
    }

}